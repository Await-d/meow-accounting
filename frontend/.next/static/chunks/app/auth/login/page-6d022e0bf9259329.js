(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6716],{54486:function(e,t,s){Promise.resolve().then(s.bind(s,10133))},10133:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(3827),l=s(64090),r=s(67945),n=s(51055),c=s(47385),i=s(10732),u=s(61079),d=s(52131),o=s(96770),h=s(62665),m=s(47907);function x(){let[e,t]=(0,l.useState)(""),[s,x]=(0,l.useState)(""),[f,p]=(0,l.useState)(""),{login:j}=(0,d.useAuth)(),{showToast:b}=(0,o.useToast)(),g=(0,m.useRouter)(),N=(0,m.useSearchParams)();(0,l.useEffect)(()=>{let e=N.get("redirect");e&&(p(e),console.log("登录后将重定向到:",e))},[N]);let v=async t=>{t.preventDefault();try{await j(e,s),f&&g.push(f)}catch(e){}};return(0,a.jsx)(h.Z,{title:"登录喵呜记账",description:f?"登录后将自动跳转回先前页面。":"欢迎回来，继续管理您的家庭财务。",backgroundVariant:"default",maxWidth:"lg",padding:"lg",children:(0,a.jsx)(r.w,{className:"w-full max-w-md mx-auto border border-default-100 bg-background/80 backdrop-blur",children:(0,a.jsxs)(n.G,{className:"gap-4",children:[(0,a.jsxs)("div",{className:"text-center mb-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"账号登录"}),(0,a.jsx)("p",{className:"text-default-500",children:"请输入您的邮箱和密码"}),f&&(0,a.jsxs)("p",{className:"text-sm text-primary mt-2",children:["登录后将返回: ",f]})]}),(0,a.jsxs)("form",{onSubmit:v,className:"flex flex-col gap-4",children:[(0,a.jsx)(c.Y,{type:"email",label:"邮箱",placeholder:"请输入邮箱",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)(c.Y,{type:"password",label:"密码",placeholder:"请输入密码",value:s,onChange:e=>x(e.target.value),required:!0}),(0,a.jsx)(i.A,{type:"submit",color:"primary",className:"mt-2",children:"登录"}),(0,a.jsxs)("div",{className:"text-center text-small",children:[(0,a.jsx)("span",{className:"text-default-500",children:"还没有账号？"}),(0,a.jsx)(u.O,{href:"/auth/register",className:"ml-1",children:"立即注册"})]})]})]})})})}function f(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)(h.Z,{title:"加载中",description:"正在加载登录页面。",backgroundVariant:"minimal",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-[40vh]",children:"加载中..."})}),children:(0,a.jsx)(x,{})})}}},function(e){e.O(0,[6034,9390,9689,7945,7530,9178,3614,2178,5784,7385,2131,8246,2971,8069,1744],function(){return e(e.s=54486)}),_N_E=e.O()}]);