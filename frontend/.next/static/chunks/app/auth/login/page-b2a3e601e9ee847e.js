(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6716],{54486:function(e,t,r){Promise.resolve().then(r.bind(r,10133))},47907:function(e,t,r){"use strict";var n=r(15313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},10133:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(3827),a=r(64090),s=r(67945),i=r(51055),l=r(47385),o=r(10732),c=r(61079),u=r(52131),d=r(96770),f=r(47907);function h(){let[e,t]=(0,a.useState)(""),[r,h]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),{login:g}=(0,u.useAuth)(),{showToast:x}=(0,d.useToast)(),v=(0,f.useRouter)(),b=(0,f.useSearchParams)();(0,a.useEffect)(()=>{let e=b.get("redirect");e&&(m(e),console.log("登录后将重定向到:",e))},[b]);let k=async t=>{t.preventDefault();try{await g(e,r),p&&v.push(p)}catch(e){}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-100 to-purple-100 p-4",children:(0,n.jsx)(s.w,{className:"w-full max-w-md",children:(0,n.jsxs)(i.G,{className:"gap-4",children:[(0,n.jsxs)("div",{className:"text-center mb-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"登录"}),(0,n.jsx)("p",{className:"text-default-500",children:"欢迎回来！"}),p&&(0,n.jsx)("p",{className:"text-sm text-primary mt-2",children:"登录后将返回到您之前访问的页面"})]}),(0,n.jsxs)("form",{onSubmit:k,className:"flex flex-col gap-4",children:[(0,n.jsx)(l.Y,{type:"email",label:"邮箱",placeholder:"请输入邮箱",value:e,onChange:e=>t(e.target.value),required:!0}),(0,n.jsx)(l.Y,{type:"password",label:"密码",placeholder:"请输入密码",value:r,onChange:e=>h(e.target.value),required:!0}),(0,n.jsx)(o.A,{type:"submit",color:"primary",className:"mt-2",children:"登录"}),(0,n.jsxs)("div",{className:"text-center text-small",children:[(0,n.jsx)("span",{className:"text-default-500",children:"还没有账号？"}),(0,n.jsx)(c.O,{href:"/auth/register",className:"ml-1",children:"立即注册"})]})]})]})})})}function p(){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"加载中..."}),children:(0,n.jsx)(h,{})})}},61079:function(e,t,r){"use strict";r.d(t,{O:function(){return w}});var n=r(67459),a=r(61149),s=(0,n.tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...a.Dh],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),i=r(75229),l=r(42669),o=r(19181),c=r(64892),u=r(86045),d=r(83683),f=r(47260),h=r(42255),p=r(84449),m=r(72874),g=r(25615),x=r(96080),v=r(34808),b=r(64090),k=r(3827),y=e=>(0,k.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,k.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,k.jsx)("path",{d:"M15 3h6v6"}),(0,k.jsx)("path",{d:"M10 14L21 3"})]}),j=(0,p.Gp)((e,t)=>{let{Component:r,children:n,showAnchorIcon:a,anchorIcon:j=(0,k.jsx)(y,{className:"flex mx-1 text-current self-center"}),getLinkProps:w}=function(e){var t,r,n,a;let k=(0,h.w)(),[y,j]=(0,p.oe)(e,s.variantKeys),{ref:w,as:N,children:P,anchorIcon:C,isExternal:B=!1,showAnchorIcon:S=!1,autoFocus:D=!1,className:E,onPress:I,onPressStart:L,onPressEnd:T,onClick:_,...A}=y,O=(0,m.gy)(w),R=null!=(r=null!=(t=null==e?void 0:e.disableAnimation)?t:null==k?void 0:k.disableAnimation)&&r,{linkProps:M}=function(e,t){let{elementType:r="a",onPress:n,onPressStart:a,onPressEnd:s,onClick:h,role:p,isDisabled:m,...g}=e,x={};"a"!==r&&(x={role:"link",tabIndex:m?void 0:0});let v=(0,i.gn)()||(0,i.Dt)();h&&"function"==typeof h&&"button"!==p&&(0,u.Z)("onClick is deprecated, please use onPress instead. See: https://github.com/nextui-org/nextui/issues/4292","useLink");let{focusableProps:b}=(0,d.k)(e,t),{pressProps:k,isPressed:y}=(0,f.r)({onPress:e=>{v&&(null==h||h(e)),null==n||n(e)},onPressStart:a,onPressEnd:s,isDisabled:m,ref:t}),j=(0,l.z)(g,{labelable:!0,isLink:"a"===r}),w=(0,o.d)(b,k),N=(0,c.tv)(),P=(0,c.eY)(e);return{isPressed:y,linkProps:(0,o.d)(j,P,{...w,...x,"aria-disabled":m||void 0,"aria-current":e["aria-current"],onClick:t=>{var r;null==(r=k.onClick)||r.call(k,t),!v&&h&&h(t),!N.isNative&&t.currentTarget instanceof HTMLAnchorElement&&t.currentTarget.href&&!t.isDefaultPrevented()&&(0,c.b0)(t.currentTarget,t)&&e.href&&(t.preventDefault(),N.open(t.currentTarget,t,e.href,e.routerOptions))}})}}({...A,onPress:I,onPressStart:L,onPressEnd:T,onClick:_,isDisabled:e.isDisabled,elementType:"".concat(N)},O),{isFocused:z,isFocusVisible:U,focusProps:V}=(0,g.F)({autoFocus:D});B&&(A.rel=null!=(n=A.rel)?n:"noopener noreferrer",A.target=null!=(a=A.target)?a:"_blank");let Y=(0,b.useMemo)(()=>s({...j,disableAnimation:R,className:E}),[(0,x.Xx)(j),R,E]);return{Component:N||"a",children:P,anchorIcon:C,showAnchorIcon:S,getLinkProps:(0,b.useCallback)(()=>({ref:O,className:Y,"data-focus":(0,v.PB)(z),"data-disabled":(0,v.PB)(e.isDisabled),"data-focus-visible":(0,v.PB)(U),...(0,o.d)(V,M,A)}),[Y,z,U,V,M,A])}}({ref:t,...e});return(0,k.jsx)(r,{...w(),children:(0,k.jsxs)(k.Fragment,{children:[n,a&&j]})})});j.displayName="NextUI.Link";var w=j},37963:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});class n extends Error{}function a(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let a=!0===t.header?0:1,s=e.split(".")[a];if("string"!=typeof s)throw new n("Invalid token specified: missing part #".concat(a+1));try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new n("Invalid token specified: invalid base64 for part #".concat(a+1," (").concat(e.message,")"))}try{return JSON.parse(r)}catch(e){throw new n("Invalid token specified: invalid json for part #".concat(a+1," (").concat(e.message,")"))}}n.prototype.name="InvalidTokenError"}},function(e){e.O(0,[6034,9390,9689,7945,7530,2178,5784,7385,2131,2971,8069,1744],function(){return e(e.s=54486)}),_N_E=e.O()}]);