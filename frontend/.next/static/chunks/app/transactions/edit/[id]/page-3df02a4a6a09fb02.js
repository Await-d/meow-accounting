(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7049],{68328:function(s,e,n){Promise.resolve().then(n.bind(n,67108))},67108:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return N}});var t=n(3827),c=n(64090),a=n(42273),i=n(19291),r=n(67945),l=n(73031),d=n(10732),o=n(51055),u=n(45623),h=n(52131),x=n(47907),j=n(4103),m=n(53879),f=n(94642),p=n(58222);function N(s){let{params:e}=s,{id:n}=e,{user:N}=(0,h.useAuth)(),v=(0,x.useRouter)(),{data:b,isLoading:y}=(0,f.a)({queryKey:["transaction",n],queryFn:()=>(0,p.Io)("/transactions/".concat(n))}),k=null==b?void 0:b.data,[C,g]=(0,c.useState)(null);return(0,c.useEffect)(()=>{y||k||v.push("/transactions")},[y,k,v]),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(a.$,{children:[(0,t.jsx)(i.d,{onClick:()=>v.push("/dashboard"),children:"仪表盘"}),(0,t.jsx)(i.d,{onClick:()=>v.push("/transactions"),children:"交易记录"}),(0,t.jsx)(i.d,{children:"编辑交易"})]})}),(0,t.jsxs)(r.w,{children:[(0,t.jsx)(l.u,{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{isIconOnly:!0,variant:"light",onClick:()=>{v.back()},children:(0,t.jsx)(m.Z,{size:20})}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"编辑交易"})]})}),(0,t.jsx)(o.G,{children:y?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(u.c,{})}):k?(0,t.jsxs)(t.Fragment,{children:[C&&(0,t.jsx)("div",{className:"bg-red-100 text-red-800 p-3 rounded-lg mb-4",children:C}),(0,t.jsx)(j.vQ,{isOpen:!0,onClose:()=>v.push("/transactions"),transaction:k})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"交易不存在或您没有权限编辑"}),(0,t.jsx)(d.A,{color:"primary",variant:"flat",className:"mt-4",onClick:()=>v.push("/transactions"),children:"返回交易列表"})]})})]})]})}}},function(s){s.O(0,[7674,6034,9390,9689,7945,7530,2178,5784,9178,7385,3614,4187,224,1945,8704,414,4322,5961,4642,4788,568,6373,8792,5769,3509,2132,2751,4103,5156,2971,8069,1744],function(){return s(s.s=68328)}),_N_E=s.O()}]);