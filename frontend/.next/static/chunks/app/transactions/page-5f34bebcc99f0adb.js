(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8220,1731],{90408:function(e,t,n){Promise.resolve().then(n.bind(n,47646))},57977:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(64090);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:l="",children:u,iconNode:d,...h}=e;return(0,r.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:n,strokeWidth:c?24*Number(i)/Number(s):i,className:a("lucide",l),...h},[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let n=(0,r.forwardRef)((n,o)=>{let{className:c,...l}=n;return(0,r.createElement)(i,{ref:o,iconNode:t,className:a("lucide-".concat(s(e)),c),...l})});return n.displayName="".concat(e),n}},44715:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(57977).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},47907:function(e,t,n){"use strict";var r=n(15313);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},47646:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(3827),s=n(64090),a=n(47385),o=n(10732),i=n(30034),c=n(1635),l=n(73400),u=n(82264),d=n(67945),h=n(51055),p=n(52131),f=n(63121),m=n(12751),k=n(76663),g=n(57977);let v=(0,g.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x=(0,g.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),y=(0,g.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var w=n(44715),b=n(70094),j=n(47907),C=n(62665);function N(){let{user:e}=(0,p.useAuth)(),{currentRoute:t}=(0,f.useRoute)(),n=(0,j.useRouter)(),[g,N]=(0,s.useState)(!1),[z,P]=(0,s.useState)({}),[Z,A]=(0,s.useState)(""),S=(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(a.Y,{classNames:{base:"w-full sm:max-w-[12rem]",inputWrapper:"h-9"},placeholder:"搜索交易...",size:"sm",startContent:(0,r.jsx)(v,{size:16}),value:Z,onValueChange:e=>{A(e)}}),(0,r.jsx)(o.A,{variant:"flat",size:"sm",onPress:()=>N(!g),startContent:(0,r.jsx)(x,{size:16}),children:"过滤"}),(0,r.jsxs)(i.F,{children:[(0,r.jsx)(c.S,{children:(0,r.jsx)(o.A,{variant:"flat",size:"sm",children:"导入/导出"})}),(0,r.jsxs)(l.a,{"aria-label":"导入导出选项",children:[(0,r.jsx)(u.W,{startContent:(0,r.jsx)(y,{size:16}),children:"导入交易"},"import"),(0,r.jsx)(u.W,{startContent:(0,r.jsx)(w.Z,{size:16}),children:"导出交易"},"export")]})]}),(0,r.jsx)(o.A,{color:"primary",size:"sm",onPress:()=>{n.push("/transactions/new")},startContent:(0,r.jsx)(b.Z,{size:16}),children:"添加交易"})]});return(0,r.jsx)(C.Z,{title:(null==t?void 0:t.name)||"交易记录",description:"集中管理所有收入与支出，支持搜索、过滤与导入导出。",actions:S,backgroundVariant:"minimal",children:(0,r.jsxs)(d.w,{className:"border border-default-100 bg-background/60 backdrop-blur-md",children:[(0,r.jsx)(k.s,{isOpen:g,onClose:()=>N(!1),onApply:e=>{P(e)}}),(0,r.jsx)(h.G,{className:"pt-4",children:(0,r.jsx)(m.Z,{})})]})})}},2210:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(68168),s=n(81754),a=n(44251),o=n(64090);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t,defaultOpen:n,isOpen:i,onClose:c,onOpen:l,onChange:u=()=>{}}=e,d=(0,a.W)(l),h=(0,a.W)(c),[p,f]=(0,s.z)(i,n||!1,u),m=(0,o.useId)(),k=t||m,g=void 0!==i,v=(0,o.useCallback)(()=>{g||f(!1),null==h||h()},[g,h]),x=(0,o.useCallback)(()=>{g||f(!0),null==d||d()},[g,d]),y=(0,o.useCallback)(()=>{(p?v:x)()},[p,x,v]);return{isOpen:!!p,onOpen:x,onClose:v,onOpenChange:y,isControlled:g,getButtonProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,"aria-expanded":p,"aria-controls":k,onClick:(0,r.t)(e.onClick,y)}},getDisclosureProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,hidden:!p,id:k}}}}},37963:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});class r extends Error{}function s(e,t){let n;if("string"!=typeof e)throw new r("Invalid token specified: must be a string");t||(t={});let s=!0===t.header?0:1,a=e.split(".")[s];if("string"!=typeof a)throw new r("Invalid token specified: missing part #".concat(s+1));try{n=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=t,decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(t)}}(a)}catch(e){throw new r("Invalid token specified: invalid base64 for part #".concat(s+1," (").concat(e.message,")"))}try{return JSON.parse(n)}catch(e){throw new r("Invalid token specified: invalid json for part #".concat(s+1," (").concat(e.message,")"))}}r.prototype.name="InvalidTokenError"}},function(e){e.O(0,[6034,9390,9689,7945,7530,9178,3614,2178,5784,7385,6288,224,4187,1945,8704,414,4322,568,5961,4788,1581,2616,2131,3121,7456,2971,8069,1744],function(){return e(e.s=90408)}),_N_E=e.O()}]);