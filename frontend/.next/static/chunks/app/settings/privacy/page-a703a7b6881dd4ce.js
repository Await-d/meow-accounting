(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7917],{49639:function(e,t,r){Promise.resolve().then(r.bind(r,72442))},47907:function(e,t,r){"use strict";var n=r(15313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},72442:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(3827),a=r(64090),i=r(67945),s=r(51055),o=r(26856),c=r(49430),l=r(47385),u=r(10732),d=r(52131),f=r(96770);function h(){let{user:e,updateUser:t}=(0,d.useAuth)(),r=async e=>{},{showToast:h}=(0,f.useToast)(),[p,v]=(0,a.useState)(""),[m,y]=(0,a.useState)(!1),g=async()=>{try{y(!0),await r({privacy_mode:!(null==e?void 0:e.privacy_mode),guest_password:(null==e?void 0:e.privacy_mode)?void 0:p}),t({...e,privacy_mode:!(null==e?void 0:e.privacy_mode)}),h((null==e?void 0:e.privacy_mode)?"已关闭隐私模式":"已开启隐私模式","success"),v("")}catch(e){h("设置失败","error")}finally{y(!1)}};return(0,n.jsx)(i.w,{children:(0,n.jsxs)(s.G,{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"隐私设置"}),(0,n.jsx)("p",{className:"text-default-500 text-sm",children:"开启隐私模式后，您可以设置访客密码。访客模式下将隐藏具体金额数据。"})]}),(0,n.jsx)(o.j,{}),(0,n.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"隐私模式"}),(0,n.jsx)("p",{className:"text-sm text-default-500",children:(null==e?void 0:e.privacy_mode)?"当前已开启隐私模式":"当前未开启隐私模式"})]}),(0,n.jsx)(c.i,{isSelected:null==e?void 0:e.privacy_mode,onValueChange:g,isDisabled:m})]}),!(null==e?void 0:e.privacy_mode)&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(l.Y,{type:"password",label:"访客密码",placeholder:"请设置访客密码",value:p,onChange:e=>v(e.target.value),description:"开启隐私模式时需要设置访客密码"}),(0,n.jsx)(u.A,{color:"primary",onPress:g,isDisabled:!p||m,isLoading:m,children:"开启隐私模式"})]})]})]})})}},26856:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var n=r(58263),a=(0,r(67459).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),i=r(64090),s=r(84449),o=r(3827),c=(0,s.Gp)((e,t)=>{let{Component:r,getDividerProps:s}=function(e){var t;let r,s;let{as:o,className:c,orientation:l,...u}=e,d=o||"hr";"hr"===d&&"vertical"===l&&(d="div");let{separatorProps:f}=(t={elementType:"string"==typeof d?d:"hr",orientation:l},s=(0,n.z)(t,{enabled:"string"==typeof t.elementType}),("vertical"===t.orientation&&(r="vertical"),"hr"!==t.elementType)?{separatorProps:{...s,role:"separator","aria-orientation":r}}:{separatorProps:s}),h=(0,i.useMemo)(()=>a({orientation:l,className:c}),[l,c]);return{Component:d,getDividerProps:(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{className:h,role:"separator","data-orientation":l,...f,...u,...e}},[h,l,f,u])}}({...e});return(0,o.jsx)(r,{ref:t,...s()})});c.displayName="NextUI.Divider";var l=c},7878:function(e,t,r){"use strict";r.d(t,{l:function(){return a}});var n=r(34808);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>(function(e,t){if(null!=e){if((0,n.mf)(e)){e(t);return}try{e.current=t}catch(r){throw Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}})(t,e))}}},83025:function(e,t,r){"use strict";r.d(t,{l:function(){return a}});var n=r(81754);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isReadOnly:t}=e,[r,a]=(0,n.z)(e.isSelected,e.defaultSelected||!1,e.onChange);return{isSelected:r,setSelected:function(e){t||a(e)},toggle:function(){t||a(!r)}}}},37963:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});class n extends Error{}function a(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let a=!0===t.header?0:1,i=e.split(".")[a];if("string"!=typeof i)throw new n("Invalid token specified: missing part #".concat(a+1));try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(i)}catch(e){throw new n("Invalid token specified: invalid base64 for part #".concat(a+1," (").concat(e.message,")"))}try{return JSON.parse(r)}catch(e){throw new n("Invalid token specified: invalid json for part #".concat(a+1," (").concat(e.message,")"))}}n.prototype.name="InvalidTokenError"}},function(e){e.O(0,[6034,9390,9689,7945,7530,2178,5784,7385,9430,2131,2971,8069,1744],function(){return e(e.s=49639)}),_N_E=e.O()}]);