(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4643],{6363:function(e,r,t){Promise.resolve().then(t.bind(t,40769))},47907:function(e,r,t){"use strict";var a=t(15313);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},40769:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var a=t(3827),n=t(54301);function l(e){let{children:r}=e;return(0,a.jsx)(n.Z,{requiredRole:"admin",children:r})}},54301:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var a=t(3827),n=t(64090),l=t(47907),c=t(52131),s=t(45623);function o(e){let{children:r,requiredRole:t}=e,o=(0,l.useRouter)(),{user:i,isLoading:u}=(0,c.useAuth)(),[d,b]=n.useState(!0);return((0,n.useEffect)(()=>{let e=setTimeout(()=>{if(b(!1),!u&&!i){o.push("/auth/login");return}t&&i&&i.role!==t&&"owner"!==i.role&&o.push("/dashboard")},500);return()=>clearTimeout(e)},[i,u,o,t]),u||d)?(0,a.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:(0,a.jsx)(s.c,{size:"lg"})}):!i||t&&i.role!==t&&"owner"!==i.role?null:(0,a.jsx)(a.Fragment,{children:r})}},45623:function(e,r,t){"use strict";t.d(r,{c:function(){return u}});var a=t(84449),n=(0,t(67459).tv)({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),l=t(96080),c=t(5142),s=t(64090),o=t(3827),i=(0,a.Gp)((e,r)=>{let{slots:t,classNames:i,label:u,getSpinnerProps:d}=function(e){let[r,t]=(0,a.oe)(e,n.variantKeys),{children:o,className:i,classNames:u,label:d,...b}=r,f=(0,s.useMemo)(()=>n({...t}),[(0,l.Xx)(t)]),p=(0,c.W)(null==u?void 0:u.base,i),h=d||o,m=(0,s.useMemo)(()=>h&&"string"==typeof h?h:b["aria-label"]?"":"Loading",[o,h,b["aria-label"]]),g=(0,s.useCallback)(()=>({"aria-label":m,className:f.base({class:p}),...b}),[m,f,p,b]);return{label:h,slots:f,classNames:u,getSpinnerProps:g}}({...e});return(0,o.jsxs)("div",{ref:r,...d(),children:[(0,o.jsxs)("div",{className:t.wrapper({class:null==i?void 0:i.wrapper}),children:[(0,o.jsx)("i",{className:t.circle1({class:null==i?void 0:i.circle1})}),(0,o.jsx)("i",{className:t.circle2({class:null==i?void 0:i.circle2})})]}),u&&(0,o.jsx)("span",{className:t.label({class:null==i?void 0:i.label}),children:u})]})});i.displayName="NextUI.Spinner";var u=i},37963:function(e,r,t){"use strict";t.d(r,{o:function(){return n}});class a extends Error{}function n(e,r){let t;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");r||(r={});let n=!0===r.header?0:1,l=e.split(".")[n];if("string"!=typeof l)throw new a("Invalid token specified: missing part #".concat(n+1));try{t=function(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("base64 string is not of the correct length")}try{var t;return t=r,decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return atob(r)}}(l)}catch(e){throw new a("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(e.message,")"))}try{return JSON.parse(t)}catch(e){throw new a("Invalid token specified: invalid json for part #".concat(n+1," (").concat(e.message,")"))}}a.prototype.name="InvalidTokenError"}},function(e){e.O(0,[6034,2178,2131,2971,8069,1744],function(){return e(e.s=6363)}),_N_E=e.O()}]);