(()=>{var e={};e.id=6968,e.ids=[6968,366],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},86281:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["settings",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,15894)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/users/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,74425)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/users/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,37384)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,66053)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/users/page.tsx"],u="/settings/users/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/users/page",pathname:"/settings/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27661:(e,t,s)=>{Promise.resolve().then(s.bind(s,70366))},21800:(e,t,s)=>{Promise.resolve().then(s.bind(s,66122))},82726:(e,t,s)=>{Promise.resolve().then(s.bind(s,28438))},99046:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},37121:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2273:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},13746:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},23485:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},54052:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},89895:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},70366:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(95344);s(3729);var a=s(8428),n=s(56506),i=s(56686),o=s(2273),l=s(89895),d=s(54052),c=s(99046),u=s(37121),h=s(23485),m=s(13746),p=s(91529),x=s(41575);let f=[{name:"系统设置",href:"/settings/system",icon:r.jsx(o.Z,{size:20})},{name:"用户管理",href:"/settings/users",icon:r.jsx(l.Z,{size:20})},{name:"家庭管理",href:"/settings/family",icon:r.jsx(d.Z,{size:20})},{name:"分类管理",href:"/settings/category",icon:r.jsx(c.Z,{size:20})},{name:"系统日志",href:"/settings/logs",icon:r.jsx(u.Z,{size:20})},{name:"备份恢复",href:"/settings/backup",icon:r.jsx(h.Z,{size:20})}];function g({children:e}){let t=(0,a.usePathname)();return r.jsx(x.Z,{title:"系统后台管理",description:"配置平台参数、管理成员与权限，保持系统稳定运行。",backgroundVariant:"minimal",contentClassName:"py-8",children:(0,r.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row",children:[(0,r.jsxs)(i.w,{className:"w-full max-w-sm shrink-0 border border-default-100 bg-background/70 backdrop-blur",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 p-4 mb-1",children:[r.jsx(p.E.div,{animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(m.Z,{size:24,className:"text-primary"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"管理导航"})]}),r.jsx("nav",{className:"space-y-1 p-2",children:f.map(e=>{let s=t===e.href;return(0,r.jsxs)(n.default,{href:e.href,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${s?"bg-primary text-primary-foreground shadow-md":"hover:bg-default-100"}`,children:[e.icon,r.jsx("span",{children:e.name})]},e.href)})})]}),r.jsx(i.w,{className:"flex-1 border border-default-100 bg-background/70 p-6 backdrop-blur",children:e})]})})}},66122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95344),a=s(95396);function n({children:e}){return r.jsx(a.Z,{requiredRole:"admin",children:e})}},28438:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(95344),a=s(3729),n=s.n(a),i=s(78225),o=s(84752),l=s(56686),d=s(40237),c=s(98400),u=s(12873),h=s(20516),m=s(61387),p=s(3394),x=s(52914),f=s(1629),g=s(80089),b=s(44738),y=s(70596),v=s(81686),w=s(26417),j=s(97446),C=s(41931),M=s(16),k=s(44360),N=s(75462),P=s(26274),z=s(81271),J=s(31296),E=s(34755),O=s(30853),S=s(96548);function R(){let{user:e}=(0,O.useAuth)(),t=e?.role==="admin"||e?.role==="owner",s=(0,P.NL)(),[R,F]=(0,a.useState)(1),{isOpen:A,onOpen:q,onClose:Z}=(0,i.q)(),{isOpen:_,onOpen:W,onClose:I}=(0,i.q)(),{isOpen:V,onOpen:H,onClose:D}=(0,i.q)(),[B,T]=(0,a.useState)(null),[$,X]=(0,a.useState)({username:"",email:"",role:"",maxFamilies:1,maxFamilyJoins:2}),{data:K,isLoading:L}=(0,z.a)({queryKey:["users"],queryFn:S.AW,enabled:t}),Y=K?.data||[],G=(0,J.D)({mutationFn:({id:e,data:t})=>(0,S.Nq)(e,t),onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),E.Am.success("用户更新成功"),Z()},onError:e=>{E.Am.error(`更新失败: ${e instanceof Error?e.message:"未知错误"}`)}}),U=(0,J.D)({mutationFn:S.h8,onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),E.Am.success("用户删除成功"),I()},onError:e=>{E.Am.error(`删除失败: ${e instanceof Error?e.message:"未知错误"}`)}}),Q=(0,J.D)({mutationFn:S.Ml,onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),E.Am.success("用户已冻结")},onError:e=>{E.Am.error(`冻结失败: ${e instanceof Error?e.message:"未知错误"}`)}}),ee=(0,J.D)({mutationFn:S.R5,onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),E.Am.success("用户已解冻")},onError:e=>{E.Am.error(`解冻失败: ${e instanceof Error?e.message:"未知错误"}`)}}),et=e=>{T(e),X({username:e.username,email:e.email,role:e.role,maxFamilies:e.maxFamilies||1,maxFamilyJoins:e.maxFamilyJoins||2}),q()},es=e=>{T(e),W()},er=e=>{e.is_frozen?ee.mutate(e.id):Q.mutate(e.id)},ea=e=>{T(e),X({...$,maxFamilies:e.maxFamilies||1,maxFamilyJoins:e.maxFamilyJoins||2}),H()},en=Math.ceil((Y?.length||0)/10),ei=n().useMemo(()=>{let e=(R-1)*10;return Y?.slice(e,e+10)||[]},[R,Y]);return t?L?r.jsx("div",{className:"flex justify-center items-center h-[400px]",children:r.jsx(o.c,{size:"lg"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h2",{className:"text-xl font-bold",children:"用户管理"})}),r.jsx(l.w,{children:r.jsx(d.G,{children:(0,r.jsxs)(c.b,{"aria-label":"用户列表",bottomContent:en>1?r.jsx("div",{className:"flex w-full justify-center",children:r.jsx(u.g,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:R,total:en,onChange:F})}):null,children:[(0,r.jsxs)(h.J,{children:[r.jsx(m.j,{children:"用户名"}),r.jsx(m.j,{children:"邮箱"}),r.jsx(m.j,{children:"角色"}),r.jsx(m.j,{children:"状态"}),r.jsx(m.j,{children:"家庭限制"}),r.jsx(m.j,{children:"操作"})]}),r.jsx(p.y,{items:ei,emptyContent:"暂无用户数据",children:e=>(0,r.jsxs)(x.g,{children:[r.jsx(f.X,{children:e.username}),r.jsx(f.X,{children:e.email}),r.jsx(f.X,{children:r.jsx(g.z,{color:"admin"===e.role?"primary":"owner"===e.role?"secondary":"default",variant:"flat",size:"sm",children:"admin"===e.role?"管理员":"owner"===e.role?"所有者":"普通用户"})}),r.jsx(f.X,{children:r.jsx(g.z,{color:e.is_frozen?"danger":"success",variant:"flat",size:"sm",children:e.is_frozen?"已冻结":"正常"})}),r.jsx(f.X,{children:(0,r.jsxs)("div",{className:"text-xs",children:[(0,r.jsxs)("div",{children:["可创建: ",e.maxFamilies||1,"个家庭"]}),(0,r.jsxs)("div",{children:["可加入: ",e.maxFamilyJoins||2,"个家庭"]})]})}),r.jsx(f.X,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.A,{size:"sm",variant:"light",onPress:()=>et(e),children:"编辑"}),r.jsx(b.A,{size:"sm",color:e.is_frozen?"success":"warning",variant:"light",onPress:()=>er(e),children:e.is_frozen?"解冻":"冻结"}),r.jsx(b.A,{size:"sm",color:"primary",variant:"light",onPress:()=>ea(e),children:"限制"}),r.jsx(b.A,{size:"sm",color:"danger",variant:"light",onPress:()=>es(e),isDisabled:"owner"===e.role,children:"删除"})]})})]},e.id)})]})})}),r.jsx(y.R,{isOpen:A,onClose:Z,children:(0,r.jsxs)(v.A,{children:[r.jsx(w.k,{children:"编辑用户"}),(0,r.jsxs)(j.I,{children:[r.jsx(C.Y,{label:"用户名",value:$.username,onChange:e=>X({...$,username:e.target.value})}),r.jsx(C.Y,{label:"邮箱",value:$.email,onChange:e=>X({...$,email:e.target.value})}),(0,r.jsxs)(M.g,{label:"角色",selectedKeys:[$.role],onChange:e=>X({...$,role:e.target.value}),isDisabled:B?.role==="owner",children:[r.jsx(k.R,{value:"user",children:"普通用户"},"user"),r.jsx(k.R,{value:"admin",children:"管理员"},"admin"),r.jsx(k.R,{value:"owner",children:"所有者"},"owner")]})]}),(0,r.jsxs)(N.R,{children:[r.jsx(b.A,{variant:"flat",onPress:Z,children:"取消"}),r.jsx(b.A,{color:"primary",onPress:()=>{B&&G.mutate({id:B.id,data:{username:$.username,email:$.email,role:$.role}})},children:"保存"})]})]})}),r.jsx(y.R,{isOpen:_,onClose:I,children:(0,r.jsxs)(v.A,{children:[r.jsx(w.k,{children:"确认删除"}),r.jsx(j.I,{children:(0,r.jsxs)("p",{children:['确定要删除用户 "',B?.username,'" 吗？此操作不可撤销。']})}),(0,r.jsxs)(N.R,{children:[r.jsx(b.A,{variant:"flat",onPress:I,children:"取消"}),r.jsx(b.A,{color:"danger",onPress:()=>{B&&U.mutate(B.id)},children:"删除"})]})]})}),r.jsx(y.R,{isOpen:V,onClose:D,children:(0,r.jsxs)(v.A,{children:[r.jsx(w.k,{children:"设置用户限制"}),(0,r.jsxs)(j.I,{children:[r.jsx(C.Y,{type:"number",label:"最大可创建家庭数",value:$.maxFamilies.toString(),onChange:e=>X({...$,maxFamilies:parseInt(e.target.value)||1}),min:1,max:10}),r.jsx(C.Y,{type:"number",label:"最大可加入家庭数",value:$.maxFamilyJoins.toString(),onChange:e=>X({...$,maxFamilyJoins:parseInt(e.target.value)||2}),min:1,max:10})]}),(0,r.jsxs)(N.R,{children:[r.jsx(b.A,{variant:"flat",onPress:D,children:"取消"}),r.jsx(b.A,{color:"primary",onPress:()=>{B&&(G.mutate({id:B.id,data:{maxFamilies:$.maxFamilies,maxFamilyJoins:$.maxFamilyJoins}}),D())},children:"保存"})]})]})})]}):(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"无权访问"}),r.jsx("p",{children:"只有管理员可以访问此页面"})]})}},87265:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(95344),a=s(3729),n=s(91529);let i=({variant:e="default"})=>{let t=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!t.current)return;let s=t.current,r=s.getContext("2d");if(!r)return;let a=()=>{s.width=window.innerWidth,s.height=window.innerHeight};a(),window.addEventListener("resize",a);let n=[],i="minimal"===e?50:100;class o{constructor(){this.x=Math.random()*s.width,this.y=Math.random()*s.height,this.size=2*Math.random()+.5,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.color=`hsla(${60*Math.random()+200}, 70%, 60%, ${.8*Math.random()+.2})`}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>s.width?this.x=0:this.x<0&&(this.x=s.width),this.y>s.height?this.y=0:this.y<0&&(this.y=s.height)}draw(){r&&(r.fillStyle=this.color,r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill())}}let l=()=>{if(r)for(let e=0;e<n.length;e++)for(let t=e;t<n.length;t++){let s=n[e].x-n[t].x,a=n[e].y-n[t].y,i=Math.sqrt(s*s+a*a);if(i<150){let s=1-i/150;r.strokeStyle=`rgba(150, 150, 255, ${.15*s})`,r.lineWidth=.8,r.beginPath(),r.moveTo(n[e].x,n[e].y),r.lineTo(n[t].x,n[t].y),r.stroke()}}},d=()=>{if(r){for(let t of(r.clearRect(0,0,s.width,s.height),"default"===e&&c(),n))t.update(),t.draw();l(),requestAnimationFrame(d)}},c=()=>{if(!r)return;r.strokeStyle="rgba(100, 100, 255, 0.1)",r.beginPath(),r.lineWidth=1.5,r.arc(0,0,200,0,.5*Math.PI),r.stroke(),r.beginPath(),r.arc(s.width,s.height,250,Math.PI,1.5*Math.PI),r.stroke(),r.beginPath(),r.lineWidth=.8;let e=s.width/2,t=s.height/2,a=.4*Math.min(s.width,s.height);r.moveTo(e-a/2,t-a/2),r.lineTo(e+a/2,t-a/2),r.lineTo(e+a/2,t+a/2),r.lineTo(e-a/2,t+a/2),r.lineTo(e-a/2,t-a/2),r.stroke()};return(()=>{for(let e=0;e<i;e++)n.push(new o)})(),d(),()=>{window.removeEventListener("resize",a)}},[e]),(0,r.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full"}),r.jsx("div",{className:"absolute top-0 -left-[10%] w-[50%] h-[50%] bg-primary/10 rounded-full blur-[150px] -z-10"}),r.jsx("div",{className:"absolute bottom-[10%] right-[10%] w-[40%] h-[40%] bg-secondary/10 rounded-full blur-[150px] -z-10"}),r.jsx(n.E.div,{className:"absolute top-[20%] right-[10%] w-16 h-16 border border-primary/20 rounded-full",animate:{y:[0,15,0],opacity:[.6,.9,.6],scale:[1,1.05,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.E.div,{className:"absolute top-[10%] left-[20%] w-24 h-24 border border-secondary/30 rounded-xl rotate-45",animate:{y:[0,-20,0],opacity:[.3,.6,.3],rotate:[45,35,45]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.E.div,{className:"absolute bottom-[30%] left-[5%] w-20 h-20 bg-gradient-to-tr from-primary/5 to-secondary/5 rounded-lg",animate:{x:[0,10,0],opacity:[.4,.7,.4],rotate:[0,10,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut"}})]})}},41575:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(95344),a=s(87265);let n={lg:"max-w-5xl",xl:"max-w-7xl",full:"w-full max-w-none"},i={sm:"py-6",md:"py-10",lg:"py-16"},o=function({title:e,description:t,actions:s,children:o,backgroundVariant:l="minimal",maxWidth:d="xl",padding:c="md",contentClassName:u="",headerClassName:h=""}){let m=["relative","mx-auto","w-full","px-4",n[d],i[c],u].filter(Boolean).join(" "),p=e||t||s;return(0,r.jsxs)("main",{className:"relative min-h-screen overflow-hidden",children:["none"!==l&&r.jsx(a.Z,{variant:"default"===l?"default":"minimal"}),(0,r.jsxs)("div",{className:m,children:[p&&(0,r.jsxs)("div",{className:["mb-8","flex flex-col gap-4","sm:flex-row sm:items-center sm:justify-between",h].filter(Boolean).join(" "),children:[(0,r.jsxs)("div",{className:"space-y-1",children:[e&&r.jsx("h1",{className:"text-2xl font-bold md:text-3xl",children:e}),t&&r.jsx("p",{className:"max-w-2xl text-base text-default-500 md:text-lg",children:t})]}),s&&r.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:s})]}),r.jsx("div",{className:"relative z-10",children:o})]})]})}},95396:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(95344),a=s(3729),n=s.n(a),i=s(8428),o=s(30853),l=s(84752);function d({children:e,requiredRole:t}){let s=(0,i.useRouter)(),{user:d,isLoading:c}=(0,o.useAuth)(),[u,h]=n().useState(!0);return((0,a.useEffect)(()=>{let e=setTimeout(()=>{if(h(!1),!c&&!d){s.push("/auth/login");return}t&&d&&d.role!==t&&"owner"!==d.role&&s.push("/dashboard")},500);return()=>clearTimeout(e)},[d,c,s,t]),c||u)?r.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:r.jsx(l.c,{size:"lg"})}):!d||t&&d.role!==t&&"owner"!==d.role?null:r.jsx(r.Fragment,{children:e})}},37384:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},74425:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/users/layout.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},15894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/users/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},80089:(e,t,s)=>{"use strict";s.d(t,{z:()=>b});var r=s(36279),a=s(56768),n=s(5818),i=s(27333),o=s(84924),l=s(5835),d=s(84072),c=(0,l.tv)({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...d.jR,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:o.J.solid.default}},{variant:"solid",color:"primary",class:{base:o.J.solid.primary}},{variant:"solid",color:"secondary",class:{base:o.J.solid.secondary}},{variant:"solid",color:"success",class:{base:o.J.solid.success}},{variant:"solid",color:"warning",class:{base:o.J.solid.warning}},{variant:"solid",color:"danger",class:{base:o.J.solid.danger}},{variant:"shadow",color:"default",class:{base:o.J.shadow.default}},{variant:"shadow",color:"primary",class:{base:o.J.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:o.J.shadow.secondary}},{variant:"shadow",color:"success",class:{base:o.J.shadow.success}},{variant:"shadow",color:"warning",class:{base:o.J.shadow.warning}},{variant:"shadow",color:"danger",class:{base:o.J.shadow.danger}},{variant:"bordered",color:"default",class:{base:o.J.bordered.default}},{variant:"bordered",color:"primary",class:{base:o.J.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:o.J.bordered.secondary}},{variant:"bordered",color:"success",class:{base:o.J.bordered.success}},{variant:"bordered",color:"warning",class:{base:o.J.bordered.warning}},{variant:"bordered",color:"danger",class:{base:o.J.bordered.danger}},{variant:"flat",color:"default",class:{base:o.J.flat.default}},{variant:"flat",color:"primary",class:{base:o.J.flat.primary}},{variant:"flat",color:"secondary",class:{base:o.J.flat.secondary}},{variant:"flat",color:"success",class:{base:o.J.flat.success}},{variant:"flat",color:"warning",class:{base:o.J.flat.warning}},{variant:"flat",color:"danger",class:{base:o.J.flat.danger}},{variant:"faded",color:"default",class:{base:o.J.faded.default}},{variant:"faded",color:"primary",class:{base:o.J.faded.primary}},{variant:"faded",color:"secondary",class:{base:o.J.faded.secondary}},{variant:"faded",color:"success",class:{base:o.J.faded.success}},{variant:"faded",color:"warning",class:{base:o.J.faded.warning}},{variant:"faded",color:"danger",class:{base:o.J.faded.danger}},{variant:"light",color:"default",class:{base:o.J.light.default}},{variant:"light",color:"primary",class:{base:o.J.light.primary}},{variant:"light",color:"secondary",class:{base:o.J.light.secondary}},{variant:"light",color:"success",class:{base:o.J.light.success}},{variant:"light",color:"warning",class:{base:o.J.light.warning}},{variant:"light",color:"danger",class:{base:o.J.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),u=s(52401),h=s(90386),m=s(91990),p=s(3729),x=s(77923),f=s(95344),g=(0,r.Gp)((e,t)=>{let{Component:s,children:o,slots:l,classNames:d,isDot:g,isCloseable:b,startContent:y,endContent:v,getCloseButtonProps:w,getChipProps:j}=function(e){let[t,s]=(0,r.oe)(e,c.variantKeys),{ref:o,as:l,children:d,avatar:x,startContent:f,endContent:g,onClose:b,classNames:y,className:v,...w}=t,j=(0,u.gy)(o),C=(0,h.W)(null==y?void 0:y.base,v),M=!!b,k="dot"===e.variant,{focusProps:N,isFocusVisible:P}=(0,i.F)(),z=(0,p.useMemo)(()=>"string"==typeof d&&(null==d?void 0:d.length)===1,[d]),J=(0,p.useMemo)(()=>!!x||!!f,[x,f]),E=(0,p.useMemo)(()=>!!g||M,[g,M]),O=(0,p.useMemo)(()=>c({...s,hasStartContent:J,hasEndContent:E,isOneChar:z,isCloseable:M,isCloseButtonFocusVisible:P}),[(0,m.Xx)(s),P,J,E,z,M]),{pressProps:S}=(0,n.r)({isDisabled:!!(null==e?void 0:e.isDisabled),onPress:b}),R=e=>(0,p.isValidElement)(e)?(0,p.cloneElement)(e,{className:(0,h.W)("max-h-[80%]",e.props.className)}):null;return{Component:l||"div",children:d,slots:O,classNames:y,isDot:k,isCloseable:M,startContent:((0,p.isValidElement)(x)?(0,p.cloneElement)(x,{className:O.avatar({class:null==y?void 0:y.avatar})}):null)||R(f),endContent:R(g),getCloseButtonProps:()=>({role:"button",tabIndex:0,className:O.closeButton({class:null==y?void 0:y.closeButton}),"aria-label":"close chip",...(0,a.d)(S,N)}),getChipProps:()=>({ref:j,className:O.base({class:C}),...w})}}({...e,ref:t}),C=(0,p.useMemo)(()=>g&&!y?(0,f.jsx)("span",{className:l.dot({class:null==d?void 0:d.dot})}):y,[l,y,g]),M=(0,p.useMemo)(()=>b?(0,f.jsx)("span",{...w(),children:v||(0,f.jsx)(x.f,{})}):v,[v,b,w]);return(0,f.jsxs)(s,{...j(),children:[C,(0,f.jsx)("span",{className:l.content({class:null==d?void 0:d.content}),children:o}),M]})});g.displayName="NextUI.Chip";var b=g},78225:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var r=s(51780),a=s(49810),n=s(496),i=s(3729);function o(e={}){let{id:t,defaultOpen:s,isOpen:o,onClose:l,onOpen:d,onChange:c=()=>{}}=e,u=(0,n.W)(d),h=(0,n.W)(l),[m,p]=(0,a.z)(o,s||!1,c),x=(0,i.useId)(),f=t||x,g=void 0!==o,b=(0,i.useCallback)(()=>{g||p(!1),null==h||h()},[g,h]),y=(0,i.useCallback)(()=>{g||p(!0),null==u||u()},[g,u]),v=(0,i.useCallback)(()=>{(m?b:y)()},[m,y,b]);return{isOpen:!!m,onOpen:y,onClose:b,onOpenChange:v,isControlled:g,getButtonProps:(e={})=>({...e,"aria-expanded":m,"aria-controls":f,onClick:(0,r.t)(e.onClick,v)}),getDisclosureProps:(e={})=>({...e,hidden:!m,id:f})}}},31296:(e,t,s)=>{"use strict";s.d(t,{D:()=>u});var r=s(3729),a=s(99896),n=s(41466),i=s(80057),o=s(28651),l=class extends i.l{#e;#t;#s;#r;constructor(e,t){super(),this.#t=void 0,this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#n()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){let e=this.#s?.state??(0,a.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.V.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},d=s(26274),c=s(63701);function u(e,t){let s=(0,d.NL)(t),[a]=r.useState(()=>new l(s,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let i=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(n.V.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=r.useCallback((e,t)=>{a.mutate(e,t).catch(c.Z)},[a]);if(i.error&&(0,c.L)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}},21608:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});let r=e=>"object"==typeof e&&null!=e&&1===e.nodeType,a=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,n=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let s=getComputedStyle(e,null);return a(s.overflowY,t)||a(s.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},i=(e,t,s,r,a,n,i,o)=>n<e&&i>t||n>e&&i<t?0:n<=e&&o<=s||i>=t&&o>=s?n-e-r:i>t&&o<s||n<e&&o>s?i-t+a:0,o=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},l=(e,t)=>{var s,a,l,d;if("undefined"==typeof document)return[];let{scrollMode:c,block:u,inline:h,boundary:m,skipOverflowHiddenElements:p}=t,x="function"==typeof m?m:e=>e!==m;if(!r(e))throw TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,g=[],b=e;for(;r(b)&&x(b);){if((b=o(b))===f){g.push(b);break}null!=b&&b===document.body&&n(b)&&!n(document.documentElement)||null!=b&&n(b,p)&&g.push(b)}let y=null!=(a=null==(s=window.visualViewport)?void 0:s.width)?a:innerWidth,v=null!=(d=null==(l=window.visualViewport)?void 0:l.height)?d:innerHeight,{scrollX:w,scrollY:j}=window,{height:C,width:M,top:k,right:N,bottom:P,left:z}=e.getBoundingClientRect(),{top:J,right:E,bottom:O,left:S}=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e),R="start"===u||"nearest"===u?k-J:"end"===u?P+O:k+C/2-J+O,F="center"===h?z+M/2-S+E:"end"===h?N+E:z-S,A=[];for(let e=0;e<g.length;e++){let t=g[e],{height:s,width:r,top:a,right:o,bottom:l,left:d}=t.getBoundingClientRect();if("if-needed"===c&&k>=0&&z>=0&&P<=v&&N<=y&&(t===f&&!n(t)||k>=a&&P<=l&&z>=d&&N<=o))break;let m=getComputedStyle(t),p=parseInt(m.borderLeftWidth,10),x=parseInt(m.borderTopWidth,10),b=parseInt(m.borderRightWidth,10),J=parseInt(m.borderBottomWidth,10),E=0,O=0,S="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-b:0,q="offsetHeight"in t?t.offsetHeight-t.clientHeight-x-J:0,Z="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,_="offsetHeight"in t?0===t.offsetHeight?0:s/t.offsetHeight:0;if(f===t)E="start"===u?R:"end"===u?R-v:"nearest"===u?i(j,j+v,v,x,J,j+R,j+R+C,C):R-v/2,O="start"===h?F:"center"===h?F-y/2:"end"===h?F-y:i(w,w+y,y,p,b,w+F,w+F+M,M),E=Math.max(0,E+j),O=Math.max(0,O+w);else{E="start"===u?R-a-x:"end"===u?R-l+J+q:"nearest"===u?i(a,l,s,x,J+q,R,R+C,C):R-(a+s/2)+q/2,O="start"===h?F-d-p:"center"===h?F-(d+r/2)+S/2:"end"===h?F-o+b+S:i(d,o,r,p,b+S,F,F+M,M);let{scrollLeft:e,scrollTop:n}=t;E=0===_?0:Math.max(0,Math.min(n+E/_,t.scrollHeight-s/_+q)),O=0===Z?0:Math.max(0,Math.min(e+O/Z,t.scrollWidth-r/Z+S)),R+=n-E,F+=e-O}A.push({el:t,top:E,left:O})}return A},d=e=>!1===e?{block:"end",inline:"nearest"}:e===Object(e)&&0!==Object.keys(e).length?e:{block:"start",inline:"nearest"};function c(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(l(e,t));let s="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:r,top:a,left:n}of l(e,d(t)))r.scroll({top:a,left:n,behavior:s})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3715,1529,8974,7279,7721,7791,1327,9799,5261,3729,6536,6250,1271,7390,3751,2873,4037],()=>s(86281));module.exports=r})();