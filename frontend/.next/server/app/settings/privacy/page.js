(()=>{var e={};e.id=7917,e.ids=[7917],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var r=s(50482),i=s(69108),n=s(62563),a=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["settings",{children:["privacy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,20317)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/privacy/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37384)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,66053)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],u=["/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/privacy/page.tsx"],d="/settings/privacy/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/settings/privacy/page",pathname:"/settings/privacy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27661:(e,t,s)=>{Promise.resolve().then(s.bind(s,70366))},61771:(e,t,s)=>{Promise.resolve().then(s.bind(s,20584))},54052:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},70366:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(95344);s(3729);var i=s(8428),n=s(56506),a=s(56686),o=s(2273),l=s(89895),c=s(54052),u=s(99046),d=s(37121),h=s(23485),m=s(13746),p=s(91529),x=s(41575);let f=[{name:"系统设置",href:"/settings/system",icon:r.jsx(o.Z,{size:20})},{name:"用户管理",href:"/settings/users",icon:r.jsx(l.Z,{size:20})},{name:"家庭管理",href:"/settings/family",icon:r.jsx(c.Z,{size:20})},{name:"分类管理",href:"/settings/category",icon:r.jsx(u.Z,{size:20})},{name:"系统日志",href:"/settings/logs",icon:r.jsx(d.Z,{size:20})},{name:"备份恢复",href:"/settings/backup",icon:r.jsx(h.Z,{size:20})}];function g({children:e}){let t=(0,i.usePathname)();return r.jsx(x.Z,{title:"系统后台管理",description:"配置平台参数、管理成员与权限，保持系统稳定运行。",backgroundVariant:"minimal",contentClassName:"py-8",children:(0,r.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row",children:[(0,r.jsxs)(a.w,{className:"w-full max-w-sm shrink-0 border border-default-100 bg-background/70 backdrop-blur",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 p-4 mb-1",children:[r.jsx(p.E.div,{animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(m.Z,{size:24,className:"text-primary"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"管理导航"})]}),r.jsx("nav",{className:"space-y-1 p-2",children:f.map(e=>{let s=t===e.href;return(0,r.jsxs)(n.default,{href:e.href,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${s?"bg-primary text-primary-foreground shadow-md":"hover:bg-default-100"}`,children:[e.icon,r.jsx("span",{children:e.name})]},e.href)})})]}),r.jsx(a.w,{className:"flex-1 border border-default-100 bg-background/70 p-6 backdrop-blur",children:e})]})})}},20584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(95344),i=s(3729),n=s(56686),a=s(40237),o=s(4521),l=s(3635),c=s(41931),u=s(44738),d=s(30853),h=s(89023),m=s(31296),p=s(96548);function x(){let{user:e,updateUser:t}=(0,d.useAuth)(),{mutateAsync:s,isPending:x}=(0,m.D)({mutationFn:p.M$}),{showToast:f}=(0,h.useToast)(),[g,y]=(0,i.useState)(""),v=async()=>{try{await s({privacy_mode:!e?.privacy_mode,guest_password:e?.privacy_mode?void 0:g}),t({...e,privacy_mode:!e?.privacy_mode}),f(e?.privacy_mode?"已关闭隐私模式":"已开启隐私模式","success"),y("")}catch(e){f("设置失败","error")}};return r.jsx(n.w,{className:"border border-default-100 bg-background/70 backdrop-blur",children:(0,r.jsxs)(a.G,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"隐私设置"}),r.jsx("p",{className:"text-default-500 text-sm",children:"开启隐私模式后，您可以设置访客密码。访客模式下将隐藏具体金额数据。"})]}),r.jsx(o.j,{}),(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"隐私模式"}),r.jsx("p",{className:"text-sm text-default-500",children:e?.privacy_mode?"当前已开启隐私模式":"当前未开启隐私模式"})]}),r.jsx(l.i,{isSelected:e?.privacy_mode,onValueChange:v,isDisabled:x})]}),!e?.privacy_mode&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(c.Y,{type:"password",label:"访客密码",placeholder:"请设置访客密码",value:g,onChange:e=>y(e.target.value),description:"开启隐私模式时需要设置访客密码"}),r.jsx(u.A,{color:"primary",onPress:v,isDisabled:!g||x,isLoading:x,children:"开启隐私模式"})]})]})]})})}},87265:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(95344),i=s(3729),n=s(91529);let a=({variant:e="default"})=>{let t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!t.current)return;let s=t.current,r=s.getContext("2d");if(!r)return;let i=()=>{s.width=window.innerWidth,s.height=window.innerHeight};i(),window.addEventListener("resize",i);let n=[],a="minimal"===e?50:100;class o{constructor(){this.x=Math.random()*s.width,this.y=Math.random()*s.height,this.size=2*Math.random()+.5,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.color=`hsla(${60*Math.random()+200}, 70%, 60%, ${.8*Math.random()+.2})`}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>s.width?this.x=0:this.x<0&&(this.x=s.width),this.y>s.height?this.y=0:this.y<0&&(this.y=s.height)}draw(){r&&(r.fillStyle=this.color,r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill())}}let l=()=>{if(r)for(let e=0;e<n.length;e++)for(let t=e;t<n.length;t++){let s=n[e].x-n[t].x,i=n[e].y-n[t].y,a=Math.sqrt(s*s+i*i);if(a<150){let s=1-a/150;r.strokeStyle=`rgba(150, 150, 255, ${.15*s})`,r.lineWidth=.8,r.beginPath(),r.moveTo(n[e].x,n[e].y),r.lineTo(n[t].x,n[t].y),r.stroke()}}},c=()=>{if(r){for(let t of(r.clearRect(0,0,s.width,s.height),"default"===e&&u(),n))t.update(),t.draw();l(),requestAnimationFrame(c)}},u=()=>{if(!r)return;r.strokeStyle="rgba(100, 100, 255, 0.1)",r.beginPath(),r.lineWidth=1.5,r.arc(0,0,200,0,.5*Math.PI),r.stroke(),r.beginPath(),r.arc(s.width,s.height,250,Math.PI,1.5*Math.PI),r.stroke(),r.beginPath(),r.lineWidth=.8;let e=s.width/2,t=s.height/2,i=.4*Math.min(s.width,s.height);r.moveTo(e-i/2,t-i/2),r.lineTo(e+i/2,t-i/2),r.lineTo(e+i/2,t+i/2),r.lineTo(e-i/2,t+i/2),r.lineTo(e-i/2,t-i/2),r.stroke()};return(()=>{for(let e=0;e<a;e++)n.push(new o)})(),c(),()=>{window.removeEventListener("resize",i)}},[e]),(0,r.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full"}),r.jsx("div",{className:"absolute top-0 -left-[10%] w-[50%] h-[50%] bg-primary/10 rounded-full blur-[150px] -z-10"}),r.jsx("div",{className:"absolute bottom-[10%] right-[10%] w-[40%] h-[40%] bg-secondary/10 rounded-full blur-[150px] -z-10"}),r.jsx(n.E.div,{className:"absolute top-[20%] right-[10%] w-16 h-16 border border-primary/20 rounded-full",animate:{y:[0,15,0],opacity:[.6,.9,.6],scale:[1,1.05,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.E.div,{className:"absolute top-[10%] left-[20%] w-24 h-24 border border-secondary/30 rounded-xl rotate-45",animate:{y:[0,-20,0],opacity:[.3,.6,.3],rotate:[45,35,45]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(n.E.div,{className:"absolute bottom-[30%] left-[5%] w-20 h-20 bg-gradient-to-tr from-primary/5 to-secondary/5 rounded-lg",animate:{x:[0,10,0],opacity:[.4,.7,.4],rotate:[0,10,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut"}})]})}},41575:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(95344),i=s(87265);let n={lg:"max-w-5xl",xl:"max-w-7xl",full:"w-full max-w-none"},a={sm:"py-6",md:"py-10",lg:"py-16"},o=function({title:e,description:t,actions:s,children:o,backgroundVariant:l="minimal",maxWidth:c="xl",padding:u="md",contentClassName:d="",headerClassName:h=""}){let m=["relative","mx-auto","w-full","px-4",n[c],a[u],d].filter(Boolean).join(" "),p=e||t||s;return(0,r.jsxs)("main",{className:"relative min-h-screen overflow-hidden",children:["none"!==l&&r.jsx(i.Z,{variant:"default"===l?"default":"minimal"}),(0,r.jsxs)("div",{className:m,children:[p&&(0,r.jsxs)("div",{className:["mb-8","flex flex-col gap-4","sm:flex-row sm:items-center sm:justify-between",h].filter(Boolean).join(" "),children:[(0,r.jsxs)("div",{className:"space-y-1",children:[e&&r.jsx("h1",{className:"text-2xl font-bold md:text-3xl",children:e}),t&&r.jsx("p",{className:"max-w-2xl text-base text-default-500 md:text-lg",children:t})]}),s&&r.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:s})]}),r.jsx("div",{className:"relative z-10",children:o})]})]})}},37384:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>a});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx`),{__esModule:i,$$typeof:n}=r,a=r.default},20317:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>a});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/privacy/page.tsx`),{__esModule:i,$$typeof:n}=r,a=r.default},4521:(e,t,s)=>{"use strict";s.d(t,{j:()=>c});var r=s(13690),i=(0,s(5835).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),n=s(3729),a=s(36279),o=s(95344),l=(0,a.Gp)((e,t)=>{let{Component:s,getDividerProps:a}=function(e){var t;let s,a;let{as:o,className:l,orientation:c,...u}=e,d=o||"hr";"hr"===d&&"vertical"===c&&(d="div");let{separatorProps:h}=(t={elementType:"string"==typeof d?d:"hr",orientation:c},a=(0,r.z)(t,{enabled:"string"==typeof t.elementType}),("vertical"===t.orientation&&(s="vertical"),"hr"!==t.elementType)?{separatorProps:{...a,role:"separator","aria-orientation":s}}:{separatorProps:a}),m=(0,n.useMemo)(()=>i({orientation:c,className:l}),[c,l]);return{Component:d,getDividerProps:(0,n.useCallback)((e={})=>({className:m,role:"separator","data-orientation":c,...h,...u,...e}),[m,c,h,u])}}({...e});return(0,o.jsx)(s,{ref:t,...a()})});l.displayName="NextUI.Divider";var c=l},18012:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(51410);function i(...e){return t=>{e.forEach(e=>(function(e,t){if(null!=e){if((0,r.mf)(e)){e(t);return}try{e.current=t}catch(s){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}})(e,t))}}},29703:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(49810);function i(e={}){let{isReadOnly:t}=e,[s,i]=(0,r.z)(e.isSelected,e.defaultSelected||!1,e.onChange);return{isSelected:s,setSelected:function(e){t||i(e)},toggle:function(){t||i(!s)}}}},31296:(e,t,s)=>{"use strict";s.d(t,{D:()=>d});var r=s(3729),i=s(99896),n=s(41466),a=s(80057),o=s(28651),l=class extends a.l{#e;#t;#s;#r;constructor(e,t){super(),this.#t=void 0,this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#n()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.V.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},c=s(26274),u=s(63701);function d(e,t){let s=(0,c.NL)(t),[i]=r.useState(()=>new l(s,e));r.useEffect(()=>{i.setOptions(e)},[i,e]);let a=r.useSyncExternalStore(r.useCallback(e=>i.subscribe(n.V.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=r.useCallback((e,t)=>{i.mutate(e,t).catch(u.Z)},[i]);if(a.error&&(0,u.L)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}},63701:(e,t,s)=>{"use strict";function r(e,t){return"function"==typeof e?e(...t):!!e}function i(){}s.d(t,{L:()=>r,Z:()=>i})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3715,1529,8974,7279,7721,7791,492,4037],()=>s(61330));module.exports=r})();