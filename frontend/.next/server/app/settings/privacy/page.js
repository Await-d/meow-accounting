(()=>{var e={};e.id=7917,e.ids=[7917],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>l});var s=r(50482),n=r(69108),a=r(62563),i=r.n(a),o=r(68300),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["settings",{children:["privacy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,20317)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/privacy/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37384)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,66053)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/privacy/page.tsx"],u="/settings/privacy/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/settings/privacy/page",pathname:"/settings/privacy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},27661:(e,t,r)=>{Promise.resolve().then(r.bind(r,70366))},61771:(e,t,r)=>{Promise.resolve().then(r.bind(r,8976))},54052:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(97075).Z)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},70366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(95344);r(3729);var n=r(8428),a=r(56506),i=r(56686),o=r(2273),c=r(89895),l=r(54052),d=r(99046),u=r(37121),p=r(23485),m=r(13746),x=r(91529);let h=[{name:"系统设置",href:"/settings/system",icon:s.jsx(o.Z,{size:20})},{name:"用户管理",href:"/settings/users",icon:s.jsx(c.Z,{size:20})},{name:"家庭管理",href:"/settings/family",icon:s.jsx(l.Z,{size:20})},{name:"分类管理",href:"/settings/category",icon:s.jsx(d.Z,{size:20})},{name:"系统日志",href:"/settings/logs",icon:s.jsx(u.Z,{size:20})},{name:"备份恢复",href:"/settings/backup",icon:s.jsx(p.Z,{size:20})}];function g({children:e}){let t=(0,n.usePathname)();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-default-100",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)(i.w,{className:"w-64 h-fit p-2 shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 p-4 mb-2",children:[s.jsx(x.E.div,{animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsx(m.Z,{size:24,className:"text-primary"})}),s.jsx("h2",{className:"text-xl font-bold",children:"后台管理"})]}),s.jsx("nav",{children:h.map(e=>{let r=t===e.href;return(0,s.jsxs)(a.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${r?"bg-primary text-white":"hover:bg-default-100"}`,children:[e.icon,s.jsx("span",{children:e.name})]},e.href)})})]}),s.jsx(i.w,{className:"flex-1 p-6",children:e})]})})})}},8976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(95344),n=r(3729),a=r(56686),i=r(40237),o=r(4521),c=r(3635),l=r(41931),d=r(44738),u=r(30853),p=r(89023);function m(){let{user:e,updateUser:t}=(0,u.useAuth)(),r=async e=>{},{showToast:m}=(0,p.useToast)(),[x,h]=(0,n.useState)(""),[g,f]=(0,n.useState)(!1),v=async()=>{try{f(!0),await r({privacy_mode:!e?.privacy_mode,guest_password:e?.privacy_mode?void 0:x}),t({...e,privacy_mode:!e?.privacy_mode}),m(e?.privacy_mode?"已关闭隐私模式":"已开启隐私模式","success"),h("")}catch(e){m("设置失败","error")}finally{f(!1)}};return s.jsx(a.w,{children:(0,s.jsxs)(i.G,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"隐私设置"}),s.jsx("p",{className:"text-default-500 text-sm",children:"开启隐私模式后，您可以设置访客密码。访客模式下将隐藏具体金额数据。"})]}),s.jsx(o.j,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"隐私模式"}),s.jsx("p",{className:"text-sm text-default-500",children:e?.privacy_mode?"当前已开启隐私模式":"当前未开启隐私模式"})]}),s.jsx(c.i,{isSelected:e?.privacy_mode,onValueChange:v,isDisabled:g})]}),!e?.privacy_mode&&(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(l.Y,{type:"password",label:"访客密码",placeholder:"请设置访客密码",value:x,onChange:e=>h(e.target.value),description:"开启隐私模式时需要设置访客密码"}),s.jsx(d.A,{color:"primary",onPress:v,isDisabled:!x||g,isLoading:g,children:"开启隐私模式"})]})]})]})})}},37384:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx`),{__esModule:n,$$typeof:a}=s,i=s.default},20317:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/privacy/page.tsx`),{__esModule:n,$$typeof:a}=s,i=s.default},4521:(e,t,r)=>{"use strict";r.d(t,{j:()=>l});var s=r(13690),n=(0,r(5835).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),a=r(3729),i=r(36279),o=r(95344),c=(0,i.Gp)((e,t)=>{let{Component:r,getDividerProps:i}=function(e){var t;let r,i;let{as:o,className:c,orientation:l,...d}=e,u=o||"hr";"hr"===u&&"vertical"===l&&(u="div");let{separatorProps:p}=(t={elementType:"string"==typeof u?u:"hr",orientation:l},i=(0,s.z)(t,{enabled:"string"==typeof t.elementType}),("vertical"===t.orientation&&(r="vertical"),"hr"!==t.elementType)?{separatorProps:{...i,role:"separator","aria-orientation":r}}:{separatorProps:i}),m=(0,a.useMemo)(()=>n({orientation:l,className:c}),[l,c]);return{Component:u,getDividerProps:(0,a.useCallback)((e={})=>({className:m,role:"separator","data-orientation":l,...p,...d,...e}),[m,l,p,d])}}({...e});return(0,o.jsx)(r,{ref:t,...i()})});c.displayName="NextUI.Divider";var l=c},18012:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var s=r(51410);function n(...e){return t=>{e.forEach(e=>(function(e,t){if(null!=e){if((0,s.mf)(e)){e(t);return}try{e.current=t}catch(r){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}})(e,t))}}},29703:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var s=r(49810);function n(e={}){let{isReadOnly:t}=e,[r,n]=(0,s.z)(e.isSelected,e.defaultSelected||!1,e.onChange);return{isSelected:r,setSelected:function(e){t||n(e)},toggle:function(){t||n(!r)}}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[3715,1599,8974,7279,7721,352,492,4037],()=>r(61330));module.exports=s})();