(()=>{var e={};e.id=8173,e.ids=[8173,366],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89729:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>p,tree:()=>c});var t=s(50482),r=s(69108),n=s(62563),o=s.n(n),l=s(68300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(a,i);let c=["",{children:["settings",{children:["backup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7490)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/backup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37384)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,66053)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/backup/page.tsx"],h="/settings/backup/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/settings/backup/page",pathname:"/settings/backup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63654:(e,a,s)=>{Promise.resolve().then(s.bind(s,40184))},27661:(e,a,s)=>{Promise.resolve().then(s.bind(s,70366))},99046:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},96885:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},37121:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2273:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},13746:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},23485:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},38271:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},54052:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},89895:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(97075).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},40184:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>S});var t=s(95344),r=s(3729),n=s.n(r),o=s(78225),l=s(44738),i=s(56686),c=s(87055),d=s(40237),h=s(98400),u=s(20516),p=s(61387),m=s(3394),x=s(84752),g=s(52914),y=s(1629),b=s(80089),f=s(70596),v=s(81686),w=s(26417),j=s(97446),k=s(41931),C=s(75462),z=s(81271),J=s(99046);let M=(0,s(97075).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var P=s(96885),N=s(38271),Z=s(34755);let E=Array.from({length:10},(e,a)=>({id:a+1,name:`backup_${new Date(Date.now()-864e5*a).toISOString().split("T")[0]}.zip`,size:Math.floor(1e3*Math.random())+"MB",createdAt:new Date(Date.now()-864e5*a).toISOString(),type:["完整备份","增量备份"][Math.floor(2*Math.random())],status:"完成"}));function S(){let{isOpen:e,onOpen:a,onClose:s}=(0,o.q)(),[r,S]=n().useState(""),[A,q]=n().useState(!1),{data:_,refetch:O}=(0,z.a)({queryKey:["backups"],queryFn:async()=>{try{let e=await fetch("/api/settings/backups",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw Error("获取备份列表失败");return await e.json()}catch(e){return console.warn("备份API未实现，使用模拟数据:",e),await new Promise(e=>setTimeout(e,1e3)),E}}}),D=async()=>{q(!0);try{let e=await fetch("/api/settings/backups",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r||`backup_${new Date().toISOString().split("T")[0]}`})});if(!e.ok){let a=await e.json();throw Error(a.error||"创建备份失败")}Z.Am.success("备份创建成功"),s(),O()}catch(e){console.error("备份创建失败:",e),Z.Am.error(`备份创建失败: ${e instanceof Error?e.message:"未知错误"}`)}finally{q(!1)}},T=async e=>{try{let a=await fetch(`/api/settings/backups/${e}/restore`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){let e=await a.json();throw Error(e.error||"恢复备份失败")}Z.Am.success("备份恢复成功")}catch(e){console.error("备份恢复失败:",e),Z.Am.error(`备份恢复失败: ${e instanceof Error?e.message:"未知错误"}`)}},V=async e=>{try{let a=await fetch(`/api/settings/backups/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){let e=await a.json();throw Error(e.error||"删除备份失败")}Z.Am.success("备份删除成功"),O()}catch(e){console.error("备份删除失败:",e),Z.Am.error(`备份删除失败: ${e instanceof Error?e.message:"未知错误"}`)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-bold",children:"备份与恢复"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(l.A,{color:"primary",variant:"shadow",startContent:t.jsx(J.Z,{size:16}),onPress:a,children:"创建备份"}),t.jsx(l.A,{variant:"flat",startContent:t.jsx(M,{size:16}),onPress:()=>O(),children:"刷新"})]})]}),(0,t.jsxs)(i.w,{children:[(0,t.jsxs)(c.u,{className:"flex gap-3 px-6 py-4",children:[t.jsx(J.Z,{size:24,className:"text-primary"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"备份管理"}),t.jsx("p",{className:"text-sm text-default-500",children:"管理系统数据的备份和恢复"})]})]}),t.jsx(d.G,{children:(0,t.jsxs)(h.b,{"aria-label":"备份列表",children:[(0,t.jsxs)(u.J,{children:[t.jsx(p.j,{children:"备份名称"}),t.jsx(p.j,{children:"类型"}),t.jsx(p.j,{children:"大小"}),t.jsx(p.j,{children:"创建时间"}),t.jsx(p.j,{children:"状态"}),t.jsx(p.j,{children:"操作"})]}),t.jsx(m.y,{items:_||[],emptyContent:A?t.jsx(x.c,{label:"加载中..."}):"暂无备份数据",children:e=>(0,t.jsxs)(g.g,{children:[t.jsx(y.X,{children:e.name}),t.jsx(y.X,{children:t.jsx(b.z,{color:"完整备份"===e.type?"primary":"secondary",variant:"flat",size:"sm",children:e.type})}),t.jsx(y.X,{children:e.size}),t.jsx(y.X,{children:new Date(e.createdAt).toLocaleString()}),t.jsx(y.X,{children:t.jsx(b.z,{color:"success",variant:"flat",size:"sm",children:e.status})}),t.jsx(y.X,{children:(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(l.A,{size:"sm",variant:"flat",color:"primary",startContent:t.jsx(P.Z,{size:14}),onPress:()=>T(e.id),children:"恢复"}),t.jsx(l.A,{size:"sm",variant:"flat",color:"danger",startContent:t.jsx(N.Z,{size:14}),onPress:()=>V(e.id),children:"删除"})]})})]},e.id)})]})})]}),t.jsx(f.R,{isOpen:e,onClose:s,children:t.jsx(v.A,{children:e=>(0,t.jsxs)(t.Fragment,{children:[t.jsx(w.k,{className:"flex flex-col gap-1",children:"创建新备份"}),t.jsx(j.I,{children:t.jsx(k.Y,{label:"备份名称",placeholder:"输入备份名称",value:r,onChange:e=>S(e.target.value)})}),(0,t.jsxs)(C.R,{children:[t.jsx(l.A,{variant:"flat",onPress:e,children:"取消"}),t.jsx(l.A,{color:"primary",onPress:D,isLoading:A,children:"创建"})]})]})})})]})}},70366:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var t=s(95344);s(3729);var r=s(8428),n=s(56506),o=s(56686),l=s(2273),i=s(89895),c=s(54052),d=s(99046),h=s(37121),u=s(23485),p=s(13746),m=s(91529);let x=[{name:"系统设置",href:"/settings/system",icon:t.jsx(l.Z,{size:20})},{name:"用户管理",href:"/settings/users",icon:t.jsx(i.Z,{size:20})},{name:"家庭管理",href:"/settings/family",icon:t.jsx(c.Z,{size:20})},{name:"分类管理",href:"/settings/category",icon:t.jsx(d.Z,{size:20})},{name:"系统日志",href:"/settings/logs",icon:t.jsx(h.Z,{size:20})},{name:"备份恢复",href:"/settings/backup",icon:t.jsx(u.Z,{size:20})}];function g({children:e}){let a=(0,r.usePathname)();return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-default-100",children:t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)(o.w,{className:"w-64 h-fit p-2 shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-4 mb-2",children:[t.jsx(m.E.div,{animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(p.Z,{size:24,className:"text-primary"})}),t.jsx("h2",{className:"text-xl font-bold",children:"后台管理"})]}),t.jsx("nav",{children:x.map(e=>{let s=a===e.href;return(0,t.jsxs)(n.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s?"bg-primary text-white":"hover:bg-default-100"}`,children:[e.icon,t.jsx("span",{children:e.name})]},e.href)})})]}),t.jsx(o.w,{className:"flex-1 p-6",children:e})]})})})}},7490:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});let t=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/backup/page.tsx`),{__esModule:r,$$typeof:n}=t,o=t.default},37384:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});let t=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx`),{__esModule:r,$$typeof:n}=t,o=t.default},87055:(e,a,s)=>{"use strict";s.d(a,{u:()=>c});var t=s(92580),r=s(36279),n=s(52401),o=s(90386),l=s(95344),i=(0,r.Gp)((e,a)=>{var s;let{as:r,className:i,children:c,...d}=e,h=(0,n.gy)(a),{slots:u,classNames:p}=(0,t.R)(),m=(0,o.W)(null==p?void 0:p.header,i);return(0,l.jsx)(r||"div",{ref:h,className:null==(s=u.header)?void 0:s.call(u,{class:m}),...d,children:c})});i.displayName="NextUI.CardHeader";var c=i},80089:(e,a,s)=>{"use strict";s.d(a,{z:()=>b});var t=s(36279),r=s(56768),n=s(5818),o=s(27333),l=s(84924),i=s(5835),c=s(84072),d=(0,i.tv)({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...c.jR,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:l.J.solid.default}},{variant:"solid",color:"primary",class:{base:l.J.solid.primary}},{variant:"solid",color:"secondary",class:{base:l.J.solid.secondary}},{variant:"solid",color:"success",class:{base:l.J.solid.success}},{variant:"solid",color:"warning",class:{base:l.J.solid.warning}},{variant:"solid",color:"danger",class:{base:l.J.solid.danger}},{variant:"shadow",color:"default",class:{base:l.J.shadow.default}},{variant:"shadow",color:"primary",class:{base:l.J.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:l.J.shadow.secondary}},{variant:"shadow",color:"success",class:{base:l.J.shadow.success}},{variant:"shadow",color:"warning",class:{base:l.J.shadow.warning}},{variant:"shadow",color:"danger",class:{base:l.J.shadow.danger}},{variant:"bordered",color:"default",class:{base:l.J.bordered.default}},{variant:"bordered",color:"primary",class:{base:l.J.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:l.J.bordered.secondary}},{variant:"bordered",color:"success",class:{base:l.J.bordered.success}},{variant:"bordered",color:"warning",class:{base:l.J.bordered.warning}},{variant:"bordered",color:"danger",class:{base:l.J.bordered.danger}},{variant:"flat",color:"default",class:{base:l.J.flat.default}},{variant:"flat",color:"primary",class:{base:l.J.flat.primary}},{variant:"flat",color:"secondary",class:{base:l.J.flat.secondary}},{variant:"flat",color:"success",class:{base:l.J.flat.success}},{variant:"flat",color:"warning",class:{base:l.J.flat.warning}},{variant:"flat",color:"danger",class:{base:l.J.flat.danger}},{variant:"faded",color:"default",class:{base:l.J.faded.default}},{variant:"faded",color:"primary",class:{base:l.J.faded.primary}},{variant:"faded",color:"secondary",class:{base:l.J.faded.secondary}},{variant:"faded",color:"success",class:{base:l.J.faded.success}},{variant:"faded",color:"warning",class:{base:l.J.faded.warning}},{variant:"faded",color:"danger",class:{base:l.J.faded.danger}},{variant:"light",color:"default",class:{base:l.J.light.default}},{variant:"light",color:"primary",class:{base:l.J.light.primary}},{variant:"light",color:"secondary",class:{base:l.J.light.secondary}},{variant:"light",color:"success",class:{base:l.J.light.success}},{variant:"light",color:"warning",class:{base:l.J.light.warning}},{variant:"light",color:"danger",class:{base:l.J.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),h=s(52401),u=s(90386),p=s(91990),m=s(3729),x=s(77923),g=s(95344),y=(0,t.Gp)((e,a)=>{let{Component:s,children:l,slots:i,classNames:c,isDot:y,isCloseable:b,startContent:f,endContent:v,getCloseButtonProps:w,getChipProps:j}=function(e){let[a,s]=(0,t.oe)(e,d.variantKeys),{ref:l,as:i,children:c,avatar:x,startContent:g,endContent:y,onClose:b,classNames:f,className:v,...w}=a,j=(0,h.gy)(l),k=(0,u.W)(null==f?void 0:f.base,v),C=!!b,z="dot"===e.variant,{focusProps:J,isFocusVisible:M}=(0,o.F)(),P=(0,m.useMemo)(()=>"string"==typeof c&&(null==c?void 0:c.length)===1,[c]),N=(0,m.useMemo)(()=>!!x||!!g,[x,g]),Z=(0,m.useMemo)(()=>!!y||C,[y,C]),E=(0,m.useMemo)(()=>d({...s,hasStartContent:N,hasEndContent:Z,isOneChar:P,isCloseable:C,isCloseButtonFocusVisible:M}),[(0,p.Xx)(s),M,N,Z,P,C]),{pressProps:S}=(0,n.r)({isDisabled:!!(null==e?void 0:e.isDisabled),onPress:b}),A=e=>(0,m.isValidElement)(e)?(0,m.cloneElement)(e,{className:(0,u.W)("max-h-[80%]",e.props.className)}):null;return{Component:i||"div",children:c,slots:E,classNames:f,isDot:z,isCloseable:C,startContent:((0,m.isValidElement)(x)?(0,m.cloneElement)(x,{className:E.avatar({class:null==f?void 0:f.avatar})}):null)||A(g),endContent:A(y),getCloseButtonProps:()=>({role:"button",tabIndex:0,className:E.closeButton({class:null==f?void 0:f.closeButton}),"aria-label":"close chip",...(0,r.d)(S,J)}),getChipProps:()=>({ref:j,className:E.base({class:k}),...w})}}({...e,ref:a}),k=(0,m.useMemo)(()=>y&&!f?(0,g.jsx)("span",{className:i.dot({class:null==c?void 0:c.dot})}):f,[i,f,y]),C=(0,m.useMemo)(()=>b?(0,g.jsx)("span",{...w(),children:v||(0,g.jsx)(x.f,{})}):v,[v,b,w]);return(0,g.jsxs)(s,{...j(),children:[k,(0,g.jsx)("span",{className:i.content({class:null==c?void 0:c.content}),children:l}),C]})});y.displayName="NextUI.Chip";var b=y},78225:(e,a,s)=>{"use strict";s.d(a,{q:()=>l});var t=s(51780),r=s(49810),n=s(496),o=s(3729);function l(e={}){let{id:a,defaultOpen:s,isOpen:l,onClose:i,onOpen:c,onChange:d=()=>{}}=e,h=(0,n.W)(c),u=(0,n.W)(i),[p,m]=(0,r.z)(l,s||!1,d),x=(0,o.useId)(),g=a||x,y=void 0!==l,b=(0,o.useCallback)(()=>{y||m(!1),null==u||u()},[y,u]),f=(0,o.useCallback)(()=>{y||m(!0),null==h||h()},[y,h]),v=(0,o.useCallback)(()=>{(p?b:f)()},[p,f,b]);return{isOpen:!!p,onOpen:f,onClose:b,onOpenChange:v,isControlled:y,getButtonProps:(e={})=>({...e,"aria-expanded":p,"aria-controls":g,onClick:(0,t.t)(e.onClick,v)}),getDisclosureProps:(e={})=>({...e,hidden:!p,id:g})}}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[3715,1599,8974,7279,7721,352,1327,5261,3729,1271,7390,3751,4037],()=>s(89729));module.exports=t})();