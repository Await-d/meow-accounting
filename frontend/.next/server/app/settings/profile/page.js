(()=>{var e={};e.id=9671,e.ids=[9671,366],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},54937:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["settings",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,43805)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37384)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,66053)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/profile/page.tsx"],u="/settings/profile/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/profile/page",pathname:"/settings/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27661:(e,t,s)=>{Promise.resolve().then(s.bind(s,70366))},2654:(e,t,s)=>{Promise.resolve().then(s.bind(s,97819))},99046:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},37121:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2273:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},13746:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},23485:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},54052:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},89895:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(97075).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},70366:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(95344);s(3729);var a=s(8428),n=s(56506),i=s(56686),l=s(2273),o=s(89895),c=s(54052),d=s(99046),u=s(37121),h=s(23485),p=s(13746),x=s(91529);let m=[{name:"系统设置",href:"/settings/system",icon:r.jsx(l.Z,{size:20})},{name:"用户管理",href:"/settings/users",icon:r.jsx(o.Z,{size:20})},{name:"家庭管理",href:"/settings/family",icon:r.jsx(c.Z,{size:20})},{name:"分类管理",href:"/settings/category",icon:r.jsx(d.Z,{size:20})},{name:"系统日志",href:"/settings/logs",icon:r.jsx(u.Z,{size:20})},{name:"备份恢复",href:"/settings/backup",icon:r.jsx(h.Z,{size:20})}];function y({children:e}){let t=(0,a.usePathname)();return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-default-100",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"flex gap-6",children:[(0,r.jsxs)(i.w,{className:"w-64 h-fit p-2 shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 p-4 mb-2",children:[r.jsx(x.E.div,{animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(p.Z,{size:24,className:"text-primary"})}),r.jsx("h2",{className:"text-xl font-bold",children:"后台管理"})]}),r.jsx("nav",{children:m.map(e=>{let s=t===e.href;return(0,r.jsxs)(n.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s?"bg-primary text-white":"hover:bg-default-100"}`,children:[e.icon,r.jsx("span",{children:e.name})]},e.href)})})]}),r.jsx(i.w,{className:"flex-1 p-6",children:e})]})})})}},97819:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(95344),a=s(3729),n=s(56686),i=s(87055),l=s(4521),o=s(40237),c=s(41931),d=s(16),u=s(44360),h=s(44738),p=s(30853),x=s(12841),m=s(63806);function y(){let{user:e,updateSettings:t}=(0,p.useAuth)(),{userRoutes:s,familyRoutes:y}=(0,x.useRoute)(),{showToast:g}=(0,m.p)(),[f,v]=(0,a.useState)({privacy_mode:e?.privacy_mode||!1,default_route:e?.default_route||"/dashboard",currentFamilyId:e?.currentFamilyId}),j=async()=>{try{await t(f),g("设置更新成功","success")}catch(e){g("设置更新失败","error")}};return r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)(n.w,{children:[r.jsx(i.u,{children:r.jsx("h2",{className:"text-xl font-bold",children:"个人设置"})}),r.jsx(l.j,{}),(0,r.jsxs)(o.G,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"基本信息"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(c.Y,{label:"用户名",value:e?.username||"",isReadOnly:!0}),r.jsx(c.Y,{label:"邮箱",value:e?.email||"",isReadOnly:!0})]})]}),r.jsx(l.j,{}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"偏好设置"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(d.g,{label:"默认路由",placeholder:"选择默认路由",selectedKeys:[f.default_route],onChange:e=>v({...f,default_route:e.target.value}),children:(()=>{let e=[{key:"/dashboard",label:"仪表盘"}];return s?.forEach(t=>{t.is_active&&e.push({key:t.path,label:`个人 - ${t.name}`})}),y?.forEach(t=>{t.is_active&&e.push({key:t.path,label:`家庭 - ${t.name}`})}),e})().map(e=>r.jsx(u.R,{value:e.key,children:e.label},e.key))}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"privacy_mode",checked:f.privacy_mode,onChange:e=>v({...f,privacy_mode:e.target.checked}),className:"w-4 h-4"}),r.jsx("label",{htmlFor:"privacy_mode",children:"隐私模式"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(h.A,{color:"primary",onPress:j,children:"保存设置"})})]})]})})}},37384:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},43805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/profile/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},87055:(e,t,s)=>{"use strict";s.d(t,{u:()=>c});var r=s(92580),a=s(36279),n=s(52401),i=s(90386),l=s(95344),o=(0,a.Gp)((e,t)=>{var s;let{as:a,className:o,children:c,...d}=e,u=(0,n.gy)(t),{slots:h,classNames:p}=(0,r.R)(),x=(0,i.W)(null==p?void 0:p.header,o);return(0,l.jsx)(a||"div",{ref:u,className:null==(s=h.header)?void 0:s.call(h,{class:x}),...d,children:c})});o.displayName="NextUI.CardHeader";var c=o}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3715,1599,8974,7279,7721,352,1327,9799,5261,6536,6250,4037],()=>s(54937));module.exports=r})();