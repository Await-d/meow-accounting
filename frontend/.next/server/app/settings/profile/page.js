(()=>{var e={};e.id=9671,e.ids=[9671,366],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},54937:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=a(50482),r=a(69108),i=a(62563),n=a.n(i),l=a(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["settings",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,43805)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,37384)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,66053)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/profile/page.tsx"],h="/settings/profile/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/settings/profile/page",pathname:"/settings/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27661:(e,t,a)=>{Promise.resolve().then(a.bind(a,70366))},2654:(e,t,a)=>{Promise.resolve().then(a.bind(a,97819))},99046:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},37121:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2273:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},13746:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},23485:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},54052:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]])},89895:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(97075).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},70366:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(95344);a(3729);var r=a(8428),i=a(56506),n=a(56686),l=a(2273),o=a(89895),d=a(54052),c=a(99046),h=a(37121),u=a(23485),m=a(13746),x=a(91529),p=a(41575);let f=[{name:"系统设置",href:"/settings/system",icon:s.jsx(l.Z,{size:20})},{name:"用户管理",href:"/settings/users",icon:s.jsx(o.Z,{size:20})},{name:"家庭管理",href:"/settings/family",icon:s.jsx(d.Z,{size:20})},{name:"分类管理",href:"/settings/category",icon:s.jsx(c.Z,{size:20})},{name:"系统日志",href:"/settings/logs",icon:s.jsx(h.Z,{size:20})},{name:"备份恢复",href:"/settings/backup",icon:s.jsx(u.Z,{size:20})}];function y({children:e}){let t=(0,r.usePathname)();return s.jsx(p.Z,{title:"系统后台管理",description:"配置平台参数、管理成员与权限，保持系统稳定运行。",backgroundVariant:"minimal",contentClassName:"py-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row",children:[(0,s.jsxs)(n.w,{className:"w-full max-w-sm shrink-0 border border-default-100 bg-background/70 backdrop-blur",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 p-4 mb-1",children:[s.jsx(x.E.div,{animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsx(m.Z,{size:24,className:"text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:"管理导航"})]}),s.jsx("nav",{className:"space-y-1 p-2",children:f.map(e=>{let a=t===e.href;return(0,s.jsxs)(i.default,{href:e.href,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${a?"bg-primary text-primary-foreground shadow-md":"hover:bg-default-100"}`,children:[e.icon,s.jsx("span",{children:e.name})]},e.href)})})]}),s.jsx(n.w,{className:"flex-1 border border-default-100 bg-background/70 p-6 backdrop-blur",children:e})]})})}},97819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(95344),r=a(3729),i=a(56686),n=a(87055),l=a(4521),o=a(40237),d=a(41931),c=a(16),h=a(44360),u=a(44738),m=a(30853),x=a(12841),p=a(63806);function f(){let{user:e,updateSettings:t}=(0,m.useAuth)(),{userRoutes:a,familyRoutes:f}=(0,x.useRoute)(),{showToast:y}=(0,p.p)(),[g,v]=(0,r.useState)({privacy_mode:e?.privacy_mode||!1,default_route:e?.default_route||"/dashboard",currentFamilyId:e?.currentFamilyId}),b=async()=>{try{await t(g),y("设置更新成功","success")}catch(e){y("设置更新失败","error")}};return s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)(i.w,{children:[s.jsx(n.u,{children:s.jsx("h2",{className:"text-xl font-bold",children:"个人设置"})}),s.jsx(l.j,{}),(0,s.jsxs)(o.G,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"基本信息"}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(d.Y,{label:"用户名",value:e?.username||"",isReadOnly:!0}),s.jsx(d.Y,{label:"邮箱",value:e?.email||"",isReadOnly:!0})]})]}),s.jsx(l.j,{}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"偏好设置"}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(c.g,{label:"默认路由",placeholder:"选择默认路由",selectedKeys:[g.default_route],onChange:e=>v({...g,default_route:e.target.value}),children:(()=>{let e=[{key:"/dashboard",label:"仪表盘"}];return a?.forEach(t=>{t.is_active&&e.push({key:t.path,label:`个人 - ${t.name}`})}),f?.forEach(t=>{t.is_active&&e.push({key:t.path,label:`家庭 - ${t.name}`})}),e})().map(e=>s.jsx(h.R,{value:e.key,children:e.label},e.key))}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"privacy_mode",checked:g.privacy_mode,onChange:e=>v({...g,privacy_mode:e.target.checked}),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"privacy_mode",children:"隐私模式"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(u.A,{color:"primary",onPress:b,children:"保存设置"})})]})]})})}},87265:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(95344),r=a(3729),i=a(91529);let n=({variant:e="default"})=>{let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!t.current)return;let a=t.current,s=a.getContext("2d");if(!s)return;let r=()=>{a.width=window.innerWidth,a.height=window.innerHeight};r(),window.addEventListener("resize",r);let i=[],n="minimal"===e?50:100;class l{constructor(){this.x=Math.random()*a.width,this.y=Math.random()*a.height,this.size=2*Math.random()+.5,this.speedX=.5*Math.random()-.25,this.speedY=.5*Math.random()-.25,this.color=`hsla(${60*Math.random()+200}, 70%, 60%, ${.8*Math.random()+.2})`}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>a.width?this.x=0:this.x<0&&(this.x=a.width),this.y>a.height?this.y=0:this.y<0&&(this.y=a.height)}draw(){s&&(s.fillStyle=this.color,s.beginPath(),s.arc(this.x,this.y,this.size,0,2*Math.PI),s.fill())}}let o=()=>{if(s)for(let e=0;e<i.length;e++)for(let t=e;t<i.length;t++){let a=i[e].x-i[t].x,r=i[e].y-i[t].y,n=Math.sqrt(a*a+r*r);if(n<150){let a=1-n/150;s.strokeStyle=`rgba(150, 150, 255, ${.15*a})`,s.lineWidth=.8,s.beginPath(),s.moveTo(i[e].x,i[e].y),s.lineTo(i[t].x,i[t].y),s.stroke()}}},d=()=>{if(s){for(let t of(s.clearRect(0,0,a.width,a.height),"default"===e&&c(),i))t.update(),t.draw();o(),requestAnimationFrame(d)}},c=()=>{if(!s)return;s.strokeStyle="rgba(100, 100, 255, 0.1)",s.beginPath(),s.lineWidth=1.5,s.arc(0,0,200,0,.5*Math.PI),s.stroke(),s.beginPath(),s.arc(a.width,a.height,250,Math.PI,1.5*Math.PI),s.stroke(),s.beginPath(),s.lineWidth=.8;let e=a.width/2,t=a.height/2,r=.4*Math.min(a.width,a.height);s.moveTo(e-r/2,t-r/2),s.lineTo(e+r/2,t-r/2),s.lineTo(e+r/2,t+r/2),s.lineTo(e-r/2,t+r/2),s.lineTo(e-r/2,t-r/2),s.stroke()};return(()=>{for(let e=0;e<n;e++)i.push(new l)})(),d(),()=>{window.removeEventListener("resize",r)}},[e]),(0,s.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[s.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full"}),s.jsx("div",{className:"absolute top-0 -left-[10%] w-[50%] h-[50%] bg-primary/10 rounded-full blur-[150px] -z-10"}),s.jsx("div",{className:"absolute bottom-[10%] right-[10%] w-[40%] h-[40%] bg-secondary/10 rounded-full blur-[150px] -z-10"}),s.jsx(i.E.div,{className:"absolute top-[20%] right-[10%] w-16 h-16 border border-primary/20 rounded-full",animate:{y:[0,15,0],opacity:[.6,.9,.6],scale:[1,1.05,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),s.jsx(i.E.div,{className:"absolute top-[10%] left-[20%] w-24 h-24 border border-secondary/30 rounded-xl rotate-45",animate:{y:[0,-20,0],opacity:[.3,.6,.3],rotate:[45,35,45]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),s.jsx(i.E.div,{className:"absolute bottom-[30%] left-[5%] w-20 h-20 bg-gradient-to-tr from-primary/5 to-secondary/5 rounded-lg",animate:{x:[0,10,0],opacity:[.4,.7,.4],rotate:[0,10,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut"}})]})}},41575:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(95344),r=a(87265);let i={lg:"max-w-5xl",xl:"max-w-7xl",full:"w-full max-w-none"},n={sm:"py-6",md:"py-10",lg:"py-16"},l=function({title:e,description:t,actions:a,children:l,backgroundVariant:o="minimal",maxWidth:d="xl",padding:c="md",contentClassName:h="",headerClassName:u=""}){let m=["relative","mx-auto","w-full","px-4",i[d],n[c],h].filter(Boolean).join(" "),x=e||t||a;return(0,s.jsxs)("main",{className:"relative min-h-screen overflow-hidden",children:["none"!==o&&s.jsx(r.Z,{variant:"default"===o?"default":"minimal"}),(0,s.jsxs)("div",{className:m,children:[x&&(0,s.jsxs)("div",{className:["mb-8","flex flex-col gap-4","sm:flex-row sm:items-center sm:justify-between",u].filter(Boolean).join(" "),children:[(0,s.jsxs)("div",{className:"space-y-1",children:[e&&s.jsx("h1",{className:"text-2xl font-bold md:text-3xl",children:e}),t&&s.jsx("p",{className:"max-w-2xl text-base text-default-500 md:text-lg",children:t})]}),a&&s.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:a})]}),s.jsx("div",{className:"relative z-10",children:l})]})]})}},37384:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let s=(0,a(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/layout.tsx`),{__esModule:r,$$typeof:i}=s,n=s.default},43805:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let s=(0,a(86843).createProxy)(String.raw`/home/runner/work/meow-accounting/meow-accounting/frontend/src/app/settings/profile/page.tsx`),{__esModule:r,$$typeof:i}=s,n=s.default},87055:(e,t,a)=>{"use strict";a.d(t,{u:()=>d});var s=a(92580),r=a(36279),i=a(52401),n=a(90386),l=a(95344),o=(0,r.Gp)((e,t)=>{var a;let{as:r,className:o,children:d,...c}=e,h=(0,i.gy)(t),{slots:u,classNames:m}=(0,s.R)(),x=(0,n.W)(null==m?void 0:m.header,o);return(0,l.jsx)(r||"div",{ref:h,className:null==(a=u.header)?void 0:a.call(u,{class:x}),...c,children:d})});o.displayName="NextUI.CardHeader";var d=o}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[3715,1529,8974,7279,7721,7791,1327,9799,5261,6536,6250,4037],()=>a(54937));module.exports=s})();